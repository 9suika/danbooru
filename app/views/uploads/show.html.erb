<div id="c-uploads">
  <div id="a-show">
    <div class="flex mb-4">
      <h1 class="flex-grow-1">Upload</h1>

      <% if @upload.media_asset_count > 1 %>
        <%= render PreviewSizeMenuComponent.new(current_size: @preview_size) %>
      <% end %>
    </div>

    <% if @upload.is_errored? %>
      <p>Error: <%= @upload.error %>.</p>
    <% elsif @upload.media_asset_count == 0 %>
      <p>Processing upload...</p>

      <% content_for(:html_header) do %>
        <meta http-equiv="refresh" content="1">
      <% end %>
    <% elsif @upload.media_asset_count > 1 %>
      <div id="p-multiple-asset-upload">
        <%= render "multiple_asset_upload", upload: @upload, size: @preview_size %>
      </div>
    <% elsif @upload.media_asset_count == 1 %>
      <div id="p-single-asset-upload">
        <%= render "single_asset_upload", upload_media_asset: @upload.upload_media_assets.first %>
      </div>
    <% end %>
  </div>
</div>

<%= render "uploads/secondary_links" %>
